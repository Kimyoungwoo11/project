<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/mainLayout}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="imagetoolbar" content="no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="title" content="웹사이트">
    <meta name="description" content="웹사이트입니다.">
    <meta name="keywords" content="키워드,키워드,키워드">
    <meta property="og:title" content="웹사이트">
    <meta property="og:description" content="웹사이트입니다">
    <meta property="og:image" content="https://웹사이트/images/opengraph.png">
    <meta property="og:url" content="https://웹사이트">
    <title>시설소개 | 프로젝트1610</title>
    <link rel="stylesheet" href="/css/gym/setting.css">
    <link rel="stylesheet" href="/css/gym/plugin.css">
    <link rel="stylesheet" href="/css/gym/template.css">
    <link rel="stylesheet" href="/css/gym/common.css">
    <link rel="stylesheet" href="/css/gym/style.css">
    <script src="https://kit.fontawesome.com/e4fcb5113c.js" crossorigin="anonymous"></script>
    <!-- jquery CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- fullcalendar CDN -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/main.min.js'></script>
    <!-- fullcalendar 언어 CDN -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/locales-all.min.js'></script>
    <style>
        .calendarBox {
            overflow: hidden;
            font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
            font-size: 14px;
        }
        /* 캘린더 위의 해더 스타일(날짜가 있는 부분) */
        .fc-header-toolbar {
            padding-top: 1em;
            padding-left: 1em;
            padding-right: 1em;
        }
        .main-content {
            display: flex;
        }
        .calendarBox {
            width: 70%;
        }
        .time-list {
            width: 30%;
            margin-left: 20px;
        }
    </style>
</head>
<body>
<div layout:fragment="content">
    <main class="th-layout-main ">
        <!-- [S]campland-N8 -->
        <div class="campland-N8" data-bid="YdLxFmd3O9">
            <div class="contents-container">
                <img class="contents-visual img-pc" src="/images/health4.jpg" alt="서브 비주얼 PC 이미지">
                <img class="contents-visual img-mobile" src="/images/health4.jpg" alt="서브 비주얼 모바일 이미지">
                <div class="contents-body container-md">
                    <div class="textset textset-visual">
                        <h2 class="textset-tit" style="font-family: 'Pretendard-Regular'; color: whitesmoke">트레이너</h2>
                    </div>
                </div>
            </div>
        </div>
        <!-- [E]campland-N8 -->
        <!-- [S]campland-N10 -->
        <div class="campland-N10" data-bid="giLXFmD3rk">
            <div class="contents-inner">
                <div class="contents-container container-md">
                    <div class="textset textset-sub"  style="display: flex; flex-wrap: wrap;">
                        <div class="textbox">
                            <h2 class="textset-tit" style="font-family: 'Pretendard-Regular';">트레이너 정보</h2>
                        </div>
                        <div class="button2" style=" margin-left: 810px;">
                            <a th:href="@{/trainerdelete(boardNo=${trainer.boardNo})}" class="btnset btnset-round" style="  background-color: #1abc9c; float: right;">삭제하기</a>
                            <a href="javascript:void(0);" class="btnset btnset-round" style="  background-color: #1abc9c; ">수정하기</a>
                        </div>
                    </div>
                    <hr/>
                    <div class="textset textset-sub" style="display: flex; flex-wrap: wrap;" >
                        <i class="fa-solid fa-user" style="margin-top: 30px; margin-right: 10px;"></i>
                        <h2 class="textset-tit" style="font-family: 'Pretendard-Regular';" th:text="${trainer.name}"></h2>
                    </div>
                    <div class="textset textset-sub"  style="display: flex; flex-wrap: wrap;" >
                        <i class="fa-solid fa-dumbbell" style="margin-top: 30px; margin-right: 10px;"></i>
                        <h2 class="textset-tit" style="font-family: 'Pretendard-Regular';" th:text="${trainer.gymName}"></h2>
                    </div>
                    <div class="location" style=" display:flex; flex-wrap:wrap;">
                        <i class="fa-solid fa-location-dot" style="margin-top: 30px; margin-right: 10px;"></i>
                        <h2 class="textset-tit" style="font-family: 'Pretendard-Regular';" th:text="${trainer.addr}"></h2>
                    </div>
                    <div class="contents-body">
                        <div class="contents-left">
                            <div class="imageset">
                                <img class="imageset-img" src="/images/trainer3.jpg" alt="캠핑장 이미지">
                            </div>
                            <div class="imageset">
                                <img class="imageset-img" src="/images/trainer4.jpg" alt="캠핑장 이미지">
                            </div>
                        </div>
                        <div class="contents-right">
                            <div class="contents-group">
                                <h5 class="contents-subtit" style="font-family: 'SUITE-Regular';">이용금액</h5>
                                <ul class="contents-list">
                                    <li class="contents-item">
                                        <span class="contents-item-name">일일권</span>
                                        <span class="contents-item-price" th:text="${trainer.ticketprice}"></span>
                                    </li>
                                </ul>
                            </div>
                            <div class="contents-group">
                                <h5 class="contents-subtit"  style="font-family: 'SUITE-Regular';">트레이너 경력</h5>
                                <ul class="contents-list">
                                    <li class="contents-item">
                                        <span class="contents-item-name" th:text="${trainer.career}">------------ </span>
                                    </li>

                                </ul>
                            </div>
                            <div class="contents-group">
                                <h5 class="contents-subtit"  style="font-family: 'SUITE-Regular';">기타</h5>
                                <ul class="contents-list">
                                    <li class="contents-item">
                                        <span class="contents-item-name" th:text="${trainer.info}"></span>

                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="contents-button" th:if="${session.member!=null}">
                        <a href="javascript:void(0);" class="btnset btnset-round" style="  background-color: #1abc9c;">등록하기</a>
                        <a th:href="@{/chat(loginId=${session.member.loginId},boardNo=${trainer.boardNo})}" class="btnset btnset-round" style="  background-color: #1abc9c;">대화하기 </a>
                    </div>
                    <div class="contents-button" th:if="${session.member==null}">
                        <a href="javascript:void(0);" class="btnset btnset-round" style="  background-color: #1abc9c;">등록하기</a>
                        <a onclick="loginalert()"  href="/login" class="btnset btnset-round" style="  background-color: #1abc9c;">대화하기 </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="main-content">
            <div class="calendarBox">
                <div id='calendar-container'>
                    <div id='calendar'></div>
                </div>
            </div>
            <div class="time-list">
                <div class="container mt-3">
                    <ul class="list-group list-group-horizontal flex-column">
                        <a href="#" class="list-group-item list-group-item-action" onclick="reserveTime('09:00-10:00')">09:00-10:00</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="reserveTime('10:30-11:30')">10:30-11:30</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="reserveTime('13:00-14:00')">13:00-14:00</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="reserveTime('14:30-15:30')">14:30-15:30</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="reserveTime('16:00-17:00')">16:00-17:00</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="reserveTime('17:30-18:30')">17:30-18:30</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="reserveTime('19:00-20:00')">19:00-20:00</a>
                        <a href="#" class="list-group-item list-group-item-action" onclick="reserveTime('20:30-21:30')">20:30-21:30</a>
                    </ul>
                </div>
            </div>
        </div>
            <script>
                function loginalert(){
                    alert("로그인 후 사용해주세요");
                }
                (function() {
                    $(function () {
                        // calendar element 취득
                        var calendarEl = $('#calendar')[0];
                        // full-calendar 생성하기
                        var calendar = new FullCalendar.Calendar(calendarEl, {
                            height: '800px',// calendar 높이 설정
                            expandRows: true, // 화면에 맞게 높이 재설정
                            slotMinTime: '08:00', // Day 캘린더에서 시작 시간
                            slotMaxTime: '24:00', // Day 캘린더에서 종료 시간
                            // 해더에 표시할 툴바
                            headerToolbar: {
                                left: 'prev,next today',
                                center: 'title',
                                right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
                            },
                            initialView: 'dayGridMonth', // 초기 로드 될때 보이는 캘린더 화면(기본 설정: 달)
                            //initialDate: 'today', // 초기 날짜 설정 (설정하지 않으면 오늘 날짜가 보인다.)
                            navLinks: true, // 날짜를 선택하면 Day 캘린더나 Week 캘린더로 링크
                            editable: true, // 수정 가능?
                            selectable: true, // 달력 일자 드래그 설정가능
                            nowIndicator: true, // 현재 시간 마크
                            dayMaxEvents: true, // 이벤트가 오버되면 높이 제한 (+ 몇 개식으로 표현)
                            locale: 'ko', // 한국어 설정
                            eventAdd: function (obj) { // 이벤트가 추가되면 발생하는 이벤트
                                console.log(obj);
                            },
                            eventChange: function (obj) { // 이벤트가 수정되면 발생하는 이벤트
                                console.log(obj);
                            },
                            eventRemove: function (obj) { // 이벤트가 삭제되면 발생하는 이벤트
                                console.log(obj);
                            },
                            select: function (arg) { // 캘린더에서 드래그로 이벤트를 생성할 수 있다.
                                var title = prompt('Event Title:');
                                if (title) {
                                    calendar.addEvent({
                                        title: title,
                                        start: arg.start,
                                        end: arg.end,
                                        allDay: arg.allDay
                                    })
                                }
                                calendar.unselect()
                            },
                            // 이벤트
                            events: [
                            ],
                            select: function(arg) {
                                // 사용자가 날짜와 시간을 선택할 때 호출되는 함수
                                let selectedStart = arg.start;
                                let selectedEnd = arg.end;
                                let overlap = calendar.getEvents().some(function(existingEvent) {
                                    return existingEvent.start < selectedEnd && existingEvent.end > selectedStart;
                                });
                                if (overlap) {
                                    alert('해당 시간대에 이미 예약이 있습니다.');
                                } else {
                                    let title = prompt('Event Title:');
                                    if (title) {
                                        calendar.addEvent({
                                            title: title,
                                            start: selectedStart,
                                            end: selectedEnd,
                                            allDay: arg.allDay
                                        });
                                    }
                                }
                                calendar.unselect();
                            }
                        });
                        // 캘린더 랜더링
                        calendar.render();
                    });
                })();
            </script>

    </main>

</div>
<!-- [E]campland-N2 -->
<script src="js/gym/setting.js"></script>
<script src="js/gym/plugin.js"></script>
<script src="js/gym/template.js"></script>
<script src="js/gym/common.js"></script>
<script src="js/gym/script.js"></script>

</body>
</html>